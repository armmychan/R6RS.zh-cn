---
layout: post
title: "R6RS翻译笔记"
description: ""
category: 
tags: []
---
{% include JB/setup %}

本文记载了任何与[R6RS](/)有关的东西。

# 目录 {#CONTENTS}

* 这回生成一个目录，且这行文字会被忽略
{:toc}

# 名词解释 {#Glossary}

## 对称的（symmetric），自反的（reflexive），传递的（transitive） {#symmetric-reflexive-transitive}

谓词P，对任意属于P的作用域的x1，x2，x3：

* 如果`(P x1 x2)`为真可以推导出`(P x2 x1)`为真，那么P具有对称性。
* 如果`(P x1 x1)`为真，那么P具有自反性。
* 如果`(P x1 x2)`、`(P x2 x3)`都为真可以推导出`(P x1 x3)`为真，那么P具有传递性。

同时满足以上三种性质的谓词在Scheme中用于模拟数学上的等价关系（见[第11.5小节](/#s11-5)）。

Scheme要求`=`，`>`，`<`，`<=`和`>=`等谓词具有传递性（见[第11.7.4.3小节](/#s11-7-4-3)）。但是，这个传递性好像和这里所说的不同。这个传递性应该是指这些谓词参数的数量可以多于两个。

## 幂等（idempotent） {#idempotent}

在[11.7.4.2小节](/#s11-7-4-2)中说“`inexact`和`exact`过程是幂等的”。一个过程幂等的意思是这个过程对参数作用一次的结果和作用多次的结果是一样的。即对所有的`x`：

~~~ scheme
(inexact (inexact x)) = (inexact x)
(exact (exact x)) = (exact x)
~~~

上面的等式中，令`x = (inexact x)`，`x = (inexact (inexact x))`，……，可以无穷地推广。

## 最简有理数 {#simplest-rational-number}

求证：任何区间都包含一个比区间中的任何其它有理数都简单的有理数（见[第11.7.4.3小节](/#s11-7-4-3)）。

证明（构造法）：

1. 在区间中任取一个有理数r，其最简分数是n/d，显然n和d是有穷的。
2. 如果存在有理数x比r还简单，令r <- x，返回第1步。此时n和d都变小了。
3. 如果存在有理x与r无法比较，那么取r和x中较小的分子分母作为新r的分子分母，返回第1步。显然这个新数在原r和x之间，且n和d中有一个比原来要小。
4. 此时r是最简的，且2、3两部中的n或d在减小，所以不可能无限循环。Q.E.D.

关于上面的2、3两步x的选择问题。2中由于n和d都比原来小，所以个数是有限的，自然可以找到。而第3步中只要求n和d中有一个比原来小。那么我们假设区间中的数都是大于0的，这是因为0是最简的，如果区间包含0，则自然QED了；小于0的情况类似。同时假设x的分子比n小，分母比d大，此时分子的个数是有限的，分母也不可以无限大，因为太大会使其小于区间的左极限。分母比d小，分子比n大的情况类似。



